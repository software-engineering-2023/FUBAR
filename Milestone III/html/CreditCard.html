<!DOCTYPE html>
<html>
<head>
    <script src="../js/script.js"></script>
    <meta charset="utf-8" />
    <link href="../css/CreditCard.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <title>View Credit Cards | FUBAR Egypt</title>
    <style>
        .redeem-input {
            width: 100px;
            padding: 5px;
            -moz-appearance: textfield; /* Remove small arrows in Firefox */
            appearance: textfield; /* Remove small arrows in other browsers */
        }
    </style>
    <script>
        function redeemPoints(row) {
            var redeemInput = row.querySelector('.redeem-input');
            var pointsCell = row.querySelector('.points-cell');
            var pointsValue = parseInt(pointsCell.textContent);
            
            var redeemAmount = parseInt(redeemInput.value);
            
            if (isNaN(redeemAmount) || redeemAmount <= 0) {
                alert('Please enter a valid positive number.');
                return;
            }
            
            if (redeemAmount > pointsValue) {
                alert('Redeem amount cannot exceed the available points.');
                return;
            }
            const confirmation = confirm('Are you sure you want to redeem points?');
        if (!confirmation) {
            return;
        }
        alert('Points redeemed Successfully!')
            var newPoints = pointsValue - redeemAmount;
            pointsCell.textContent = newPoints;
            redeemInput.value = "";
        }
    </script>
</head>
<body>
    <div class="navbar">
        <div class="logo">
            <img src="../img/FUBAR Logo.png" />
        </div>
        <ul>
            <li><button id="home" class="home">Home</button></li>
            <li><button id="report">Report Issue</button></li>
            <li><button id="notifs">Notifications</button></li>
            <li><button id="reminders">Reminders</button></li>
            <li><button id="contact">Contact</button></li>
            <li><button id="logout" class="logout-button">Logout</button></li> <!-- New logout button -->
        </ul>
    </div>

    <div class="CreditCard-page">
        <div class="CreditCard-container">
            <h1>Here are your credit cards, Dareen!</h1>
        </div>
    </div>

    <a href="client.html" onclick="history.back()" class="back-link">
        <i class="fas fa-arrow-left"></i>
        Back
    </a>

    <table>
        <thead>
            <tr>
                <th>Credit Card Number</th>
                <th>Related Bank Account</th> <!-- New column added -->
                <th>Credit left to use</th>
                <th>Limit</th>
                <th>Points</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1111222233334444</td>
                <td>123456789</td> <!-- Related bank account for the credit card -->
                <td>$5000</td>
                <td>$10000</td>
                <td class="points-cell">1000</td>
                <td><button class="view-transactions-button" id="CCtransactions">View Transactions</button></td>
                <td>
                    <input type="number" class="redeem-input" placeholder="Amount" />
                    <button class="redeem-points-button" onclick="redeemPoints(this.parentNode.parentNode)">
                        Redeem Points
                    </button>
                </td>
            </tr>
            <tr>
                <td>5555666677778888</td>
                <td>987654321</td> <!-- Related bank account for the credit card -->
                <td>$10000</td>
                <td>$20000</td>
                <td class="points-cell">2000</td>
                <td><button class="view-transactions-button" id="CCtransactions2">View Transactions</button></td>
                <td>
                    <input type="number" class="redeem-input" placeholder="Amount" />
                    <button class="redeem-points-button" onclick="redeemPoints(this.parentNode.parentNode)">
                        Redeem Points
                    </button>
                </td>
            </tr>
            <!-- Add more rows for other bank accounts -->
        </tbody>
    </table>

    <button id="loanapp" class="applyloan">Apply For a New Credit Card</button>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const homeButton = document.getElementById('loanapp');
            if (homeButton) {
                homeButton.addEventListener('click', function () {
                    window.location.href = 'applyForACreditCard.html';
                });
            }
        });
    
        document.addEventListener('DOMContentLoaded', function () {
            const VTButton = document.getElementById('CCtransactions2');
            if (VTButton) {
                VTButton.addEventListener('click', function () {
                    window.location.href = 'CCtransactions2.html';
                });
            }
        });
    </script>
</body>
</html>

